<!DOCTYPE html>
<html>
<head>
	<!-- <script src="functions.js"></script> -->
	<link rel="icon" 
	      type="image/jpg" 
	      href="kippp.jpg">
	<script src="https://www.w3schools.com/lib/w3.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
	</script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Random Stuff</title>
</head>

<body>

	<script src="home_navbar.js"></script>

	<!-- <div id="container" style="">
		<img src="kippp.jpg" style="padding-top: 50px;" id="animate">	
	</div> -->

	<!-- <script src="mudkip.js"></script> -->

	<div style="margin-top:30px;padding:22px;">
		<h2>Random String Generator</h2>
		<p> Generate strings a from set of criteria.</p>
		<ul>
			<li>The "set" means which characters to choose from.</li>
			<li>The "length" means how many times you want to choose this from this set.</li>
			<li>Duplicates will appear more often. For example, "aaab" means that "a" is 3 times more likely to appear.</li>
			<li>You can also choose from one of the sets given, like Alphabet or Digit.</li>
		</ul>
		<p> Examples:</p>
		<ul>
			<li>Set 1 contains: "abc" of length 2</li>
			<li>Set 2 contains: "12" of length 1</li>
			<li>Then the possible values would be "aa1", "aa2", "ab1", "ab2", ... etc.</li>
		</ul>
		<span id = "main">
			Set: <input id="0_set" type="text" name="" style="width: 200px;"> 
			Length: <input id="0_len" type="number" name="" style="width: 30px;" min="0"> 
			Or choose from these sets:
			<input id="0_alp" type="checkbox" onclick="set_flags(this.id)"> Alphabet
			<input id="0_Alp" type="checkbox" onclick="set_flags(this.id)"> Alphabet (uppercase)
			<input id="0_dig" type="checkbox" onclick="set_flags(this.id)" name="type" value="number"> Digit
			<br>
		</span>
		<p id = "str"></p>
		<button onclick="add_more()">Add another set</button>
		<button onclick="gen_str()">Generate String</button>





<!-- 		<h2 class="lang eng"><span class="lang eng">The Edgifier</span><span class="lang tw">簡介</span></h2>
		<p>
			<span class="lang eng">
				Have you ever wanted to write a message, but also have the mind of a 12 year old? Well, you can now.
			</span>			
			<span class="lang tw">
			</span>
		</p>
		<h3 class="lang eng"><span class="lang eng">Text:</span><span class="lang tw"></span></h3>
		<p><input type="text" id="edgy_input" style="width: 800px; font-size: 120%;"> <br /></p>
		<p>
			<button onclick="edgify(document.getElementById('edgy_input'), document.getElementById('edgy_output'))"
			 style="border-radius: 14px; background-color: red; font-size: 150%;">
				eDgIFy
			</button> <br />
		</p>
		<h3 class="lang eng"><span class="lang eng">Text, but edgified:</span><span class="lang tw"></span></h3>
		<p id="edgy_output" style="padding-bottom: 60px;"></p>
 -->
		<h2 class="lang eng"><span class="lang eng">Depression Meme Generator</span><span class="lang tw"></span></h2>
		<img src="depression/5.jpg" id = 'um' onclick="getNew('um', 75)" style="max-width: 500px; max-height: 500px;">

	</div>

</body>

<script>

	function edgify(input, output) {
		var string = input.value;
		var out = "";
		var edgy_factor = 0.365;
		for (var i = 0; i < string.length; i++) {
			if (string[i] == ' ') edgy_factor = 0.365;
			if (Math.random() - edgy_factor < 0.2) {
				out += string[i].toUpperCase();
				edgy_factor *= 0.5;
			}
			else out += string[i].toLowerCase(), edgy_factor *= 1.5;
		}
		output.innerHTML = out;
	}

	function getNew(src, max) {
		var random = Math.floor(Math.random() * (max + 1));
		document.getElementById(src).src = "depression/" + random + ".jpg";
		// document.getElementById("test").innerHTML = random;
	}
		var count = 1;
		function save_old_vals(argument) {
			var text = [], length = [];
			for (let i = 0; i < count; i++) {
				text.push(document.getElementById(`${i}_set`).value);
				length.push(document.getElementById(`${i}_len`).value);
			}
			return [text, length];
		}

		function add_more() {
			let main_str = "";
			let list = save_old_vals(); 
			let text = list[0]; length = list[1];
			text.push(""), length.push("");
			count++;
			for (var i = 0; i < count; i++) {
				main_str +=
				`
					Set: <input id="${i}_set" type="text" name="" value="${text[i]}" style="width: 200px;">
					Length: <input id="${i}_len" type="number" name="" value="${length[i]}" style="width:30px" min="0"">
					Or choose from these sets:
					<input id="${i}_alp" type="checkbox" onclick="set_flags(this.id)"> Alphabet
					<input id="${i}_Alp" type="checkbox" onclick="set_flags(this.id)"> Alphabet (Uppercase)
					<input id="${i}_dig" type="checkbox" onclick="set_flags(this.id)" value="number"> Digit
					<br>
				`;
			}
			document.getElementById("main").innerHTML = main_str;
		}
		function set_alp(set_id) {
			document.getElementById(`${parseInt(set_id)}_set`).value = "abcdefghijklmnopqrstuvwxyz";
		}
		function set_flags(set_id, flag) {
			let number = parseInt(set_id), str = "";
			let alp_flag = document.getElementById(`${number}_alp`).checked;
			let Alp_flag = document.getElementById(`${number}_Alp`).checked;
			let num_flag = document.getElementById(`${number}_dig`).checked;
			input_box = document.getElementById(`${number}_set`);
			if (alp_flag + num_flag + Alp_flag > 0) {
				if (alp_flag) str += "abcdefghijklmnopqrstuvwxyz";
				if (Alp_flag) str += "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
				if (num_flag) str += "0123456798";
				input_box.disabled = true;
				input_box.style.opacity = 0.0;
				input_box.value = str;
			}
			else {
				input_box.disabled = false;
				input_box.style.opacity = 1.0;
				input_box.value = "";
			}
		}
		function rand(len) {return Math.floor(Math.random() * len);}
		function gen_str() {
			let list = save_old_vals(); 
			let text = list[0]; lengths = list[1];
			str = "";
			for (let i = 0; i < count; i++) {
				for (let j = 0; j < parseInt(lengths[i]); j++) {
					if (text[i]) str += text[i][rand(text[i].length)];
				}
			}
			document.getElementById("str").innerHTML = str;
		}

</script>

<script src="lang.js"></script>
</html>